---
description: Follow the RSpec file structure pattern with typed comments
globs: *.rb
alwaysApply: false
---

# RSpec File Structure Pattern

When creating new RSpec test files, follow this consistent structure:

## Guidelines

1. Start each spec file with a typed comment: `# typed: false` (or appropriate Sorbet type level)
2. Use `RSpec.describe` instead of just `describe` (zero-monkey patching mode)
3. Match the file structure to the class structure being tested
4. Use appropriate type metadata (e.g., `type: :model`, `type: :request`)
5. Group related tests using nested `describe` and `context` blocks
6. Use descriptive `it` blocks that read like sentences

## Example

```ruby
# typed: false

RSpec.describe MyClass, type: :model do
  describe "#instance_method" do
    context "when condition is true" do
      it "returns the expected result" do
        # test code
      end
    end
  end

  describe ".class_method" do
    it "performs the expected action" do
      # test code
    end
  end
end
```
